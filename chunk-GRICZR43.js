import{b as V,c as p,d as U,e as k,f as q,g as M,h as A,i as B,j as G,l as L,m as $}from"./chunk-OEDXWUF3.js";import{a as j}from"./chunk-T3JMRARM.js";import{a as N}from"./chunk-4LWUVTOG.js";import"./chunk-UZIZ2SC3.js";import{a as I}from"./chunk-5AEEOLU3.js";import"./chunk-IFK5JYCE.js";import"./chunk-SFNPABOD.js";import"./chunk-RDI242HM.js";import{Bb as y,Ea as m,Oa as S,W as v,Wa as f,Xa as T,Za as D,_ as w,ab as F,db as s,eb as C,fb as g,gb as x,ha as b,hb as l,ia as P,ib as i,jb as d,kb as E,qb as O,rb as _,xb as c,yb as h}from"./chunk-A2AZSFLI.js";function z(){return e=>{let n=e.value;return n&&n.name&&n.name.split(".").pop().toLowerCase()!=="pdf"?(console.log("File is not PDF"),{pdfFile:!0}):null}}var R=()=>[import("./chunk-CXOYTFUN.js").then(e=>e.TitlePrincipalComponent),A,V,U,k,B,G];function X(e,n){if(e&1&&(l(0,"p",8),c(1),i()),e&2){let o=n.$implicit;m(),h(o)}}function H(e,n){if(e&1&&g(0,X,2,1,"p",8,C),e&2){let o,r=_(2);x((o=r.errorComment().errorNews)==null||o.errors==null?null:o.errors.name)}}function J(e,n){e&1&&(l(0,"p",8),c(1,"El nombre es obligatorio"),i())}function K(e,n){if(e&1&&(l(0,"p",8),c(1),i()),e&2){let o=n.$implicit;m(),h(o)}}function Q(e,n){if(e&1&&g(0,K,2,1,"p",8,C),e&2){let o,r=_(2);x((o=r.errorComment().errorNews)==null||o.errors==null?null:o.errors.email)}}function W(e,n){e&1&&(l(0,"p",8),c(1,"El correo es obligatorio"),i())}function Y(e,n){e&1&&(l(0,"p",8),c(1,"Debe ser un correo valido"),i())}function Z(e,n){if(e&1&&(l(0,"p",8),c(1),i()),e&2){let o=n.$implicit;m(),h(o)}}function ee(e,n){if(e&1&&g(0,Z,2,1,"p",8,C),e&2){let o,r=_(2);x((o=r.errorComment().errorNews)==null||o.errors==null?null:o.errors.message)}}function te(e,n){e&1&&(l(0,"p",8),c(1,"El mensaje es obligatorio"),i())}function ne(e,n){e&1&&(l(0,"p",8),c(1,"El mensaje debe tener al menos 5 caracteres"),i())}function oe(e,n){e&1&&(l(0,"p",8),c(1,"El mensaje debe tener menos de 500 caracteres"),i())}function ie(e,n){if(e&1&&(l(0,"p",8),c(1),i()),e&2){let o=n.$implicit;m(),h(o)}}function re(e,n){if(e&1&&g(0,ie,2,1,"p",8,C),e&2){let o,r=_(2);x((o=r.errorComment().errorNews)==null||o.errors==null?null:o.errors.file)}}function le(e,n){e&1&&(l(0,"p",8),c(1,"Solo se permiten archivos PDF"),i())}function ae(e,n){if(e&1){let o=E();l(0,"div",2),d(1,"app-title-principal",3),i(),l(2,"div",4)(3,"form",5),O("submit",function(){b(o);let a=_();return P(a.sendContactForm())}),l(4,"div")(5,"label",6),c(6,"Nombre: *"),i(),d(7,"input",7),f(8,H,2,0)(9,J,2,0,"p",8),i(),l(10,"div")(11,"label",9),c(12,"Correo electr\xF3nico: *"),i(),d(13,"input",10),f(14,Q,2,0)(15,W,2,0,"p",8)(16,Y,2,0,"p",8),i(),l(17,"div")(18,"label",11),c(19,"Mensaje: *"),i(),d(20,"textarea",12),f(21,ee,2,0)(22,te,2,0,"p",8)(23,ne,2,0,"p",8)(24,oe,2,0,"p",8),i(),l(25,"div")(26,"label",13),c(27,"Adjunte archivos: *"),i(),l(28,"input",14),O("change",function(a){b(o);let u=_();return P(u.onFileChange(a))}),i(),f(29,re,2,0)(30,le,2,0,"p",8),i(),l(31,"div",15)(32,"button",16),c(33,"Enviar"),i()()()()}if(e&2){let o,r,a,u,t=_();m(3),F("formGroup",t.contactForm),m(5),s(!((o=t.errorComment().errorNews)==null||o.errors==null)&&o.errors.name?8:-1),m(),s(!(t.name==null||t.name.errors==null)&&t.name.errors.required&&(t.name!=null&&t.name.touched)?9:-1),m(5),s(!((r=t.errorComment().errorNews)==null||r.errors==null)&&r.errors.email?14:-1),m(),s(!(t.email==null||t.email.errors==null)&&t.email.errors.required&&(t.email!=null&&t.email.touched)?15:-1),m(),s(!(t.email==null||t.email.errors==null)&&t.email.errors.email?16:-1),m(5),s(!((a=t.errorComment().errorNews)==null||a.errors==null)&&a.errors.message?21:-1),m(),s(!(t.message==null||t.message.errors==null)&&t.message.errors.required&&(t.message!=null&&t.message.touched)?22:-1),m(),s(!(t.message==null||t.message.errors==null)&&t.message.errors.minlength&&(t.message!=null&&t.message.touched)?23:-1),m(),s(!(t.message==null||t.message.errors==null)&&t.message.errors.maxlength&&(t.message!=null&&t.message.touched)?24:-1),m(5),s(!((u=t.errorComment().errorNews)==null||u.errors==null)&&u.errors.file?29:-1),m(),s(!(t.file==null||t.file.errors==null)&&t.file.errors.pdfFile?30:-1),m(2),F("disabled",t.contactForm.invalid)}}function me(e,n){e&1&&d(0,"app-spiner")}var he=(()=>{let n=class n{constructor(){this.contactForm=new q({name:new M(""),email:new M(""),message:new M(""),file:new M("")}),this.formbuilder=v(L),this.userService=v(j),this.alertsService=v(N),this.errorComment=S({}),this.fileToUpload=null,this.contactForm=this.formbuilder.group({name:["",p.compose([p.required])],email:["",p.compose([p.required,p.email])],message:["",p.compose([p.required,p.maxLength(500),p.minLength(3)])],file:["",p.compose([p.maxLength(500),z()])]})}get name(){return this.contactForm.get("name")}get email(){return this.contactForm.get("email")}get message(){return this.contactForm.get("message")}get file(){return this.contactForm.get("file")}ngOnDestroy(){this.unsubscribe?.unsubscribe()}onFileChange(r){let a=r.target;a.files&&a.files.length>0&&(this.fileToUpload=a.files[0])}sendContactForm(){if(this.contactForm.valid){let r=new FormData;r.append("name",this.contactForm.get("name")?.value??""),r.append("email",this.contactForm.get("email")?.value??""),r.append("message",this.contactForm.get("message")?.value??""),this.fileToUpload&&r.append("file",this.fileToUpload,this.fileToUpload.name),this.unsubscribe=this.userService.contactMe(r).subscribe({next:a=>{this.alertsService.showAlert("success",a.message),this.contactForm.reset(),this.fileToUpload=null,this.errorComment.set({})},error:a=>{this.errorComment.set(a)}})}else this.alertsService.showAlert("error","Por favor completa todos los campos obligatorios")}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=w({type:n,selectors:[["app-contact-me"]],standalone:!0,features:[y],decls:7,vars:0,consts:[[1,"conteiner-contact"],[1,"separator"],[1,"conteiner-contact__title"],["title","Formulario de contacta con NOTICURSOS"],[1,"conteiner-contact__form"],["enctype","multipart/form-data",3,"submit","formGroup"],["for","name"],["formControlName","name","type","text","id","name","name","name"],[1,"alert","alert-error"],["for","email"],["formControlName","email","type","email","id","email","name","email"],["for","message"],["formControlName","message","type","text","id","message","name","message"],["for","file"],["formControlName","file","type","file","id","file","name","file",3,"change"],[1,"boton"],["type","submit",1,"btn",3,"disabled"]],template:function(a,u){a&1&&(l(0,"div",0),d(1,"div",1),f(2,ae,34,13)(3,me,1,0),T(4,2,R,null,3),D(),d(6,"div",1),i())},dependencies:[$,I],styles:[".conteiner-contact[_ngcontent-%COMP%]{max-width:1300px;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:20px;font-size:clamp(12px,2dvw,16px);margin:0;padding:0}.conteiner-contact__title[_ngcontent-%COMP%]{width:100%}.conteiner-contact__form[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding-bottom:30px}.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:20px;padding-top:30px}.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:65%;display:flex;justify-content:center;align-items:flex-start;flex-direction:column;gap:5px}@media screen and (max-width: 700px){.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:90%}}.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.2em;color:#065693}.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:#f5f5f5;border:none;outline:none;border-bottom:1px solid #065693;padding:10px 0}.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:120px;resize:none;padding:10px;border:1px solid #065693;outline:none}@media screen and (max-width: 700px){.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}}.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]{display:grid;place-items:center}.conteiner-contact__form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .boton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 40px}.separator[_ngcontent-%COMP%]{width:100%;height:3px;background:#065693;margin-top:20PX}@media screen and (max-width: 700px){.separator[_ngcontent-%COMP%]{width:90%}}"]});let e=n;return e})();export{he as ContactMeComponent};
